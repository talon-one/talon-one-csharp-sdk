// <auto-generated>
/*
 * Talon.One API
 *
 * Use the Talon.One API to integrate with your application and to manage applications and campaigns:  - Use the operations in the [Integration API section](#integration-api) are used to integrate with our platform - Use the operation in the [Management API section](#management-api) to manage applications and campaigns.  ## Determining the base URL of the endpoints  The API is available at the same hostname as your Campaign Manager deployment. For example, if you access the Campaign Manager at `https://yourbaseurl.talon.one/`, the URL for the [updateCustomerSessionV2](https://docs.talon.one/integration-api#operation/updateCustomerSessionV2) endpoint is `https://yourbaseurl.talon.one/v2/customer_sessions/{Id}` 
 *
 * Contact: devs@talon.one
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using TalonOne.Client;

namespace TalonOne.Model
{
    /// <summary>
    /// The strikethrough labels notification for an application.
    /// </summary>
    public partial class StrikethroughLabelingNotification : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="StrikethroughLabelingNotification" /> class.
        /// </summary>
        /// <param name="applicationId">The ID of the Application to which the catalog items labels belongs.</param>
        /// <param name="currentBatch">The batch number of the notification. Notifications might be sent in different batches.</param>
        /// <param name="totalBatches">The total number of batches for the notification.</param>
        /// <param name="trigger">trigger</param>
        /// <param name="changedItems">changedItems</param>
        /// <param name="notificationType">The type of the notification</param>
        /// <param name="varVersion">The version of the strikethrough pricing notification.</param>
        /// <param name="validFrom">Timestamp at which the strikethrough pricing update becomes valid. Set for **scheduled** strikethrough pricing updates (version: v2) only. </param>
        [JsonConstructor]
        public StrikethroughLabelingNotification(long applicationId, long currentBatch, long totalBatches, StrikethroughTrigger trigger, List<StrikethroughChangedItem> changedItems, NotificationTypeEnum notificationType, Option<VarVersionEnum?> varVersion = default, Option<DateTime?> validFrom = default)
        {
            ApplicationId = applicationId;
            CurrentBatch = currentBatch;
            TotalBatches = totalBatches;
            Trigger = trigger;
            ChangedItems = changedItems;
            NotificationType = notificationType;
            VarVersionOption = varVersion;
            ValidFromOption = validFrom;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// The type of the notification
        /// </summary>
        /// <value>The type of the notification</value>
        public enum NotificationTypeEnum
        {
            /// <summary>
            /// Enum StrikethroughPrice for value: StrikethroughPrice
            /// </summary>
            StrikethroughPrice = 1
        }

        /// <summary>
        /// Returns a <see cref="NotificationTypeEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static NotificationTypeEnum NotificationTypeEnumFromString(string value)
        {
            if (value.Equals("StrikethroughPrice"))
                return NotificationTypeEnum.StrikethroughPrice;

            throw new NotImplementedException($"Could not convert value to type NotificationTypeEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="NotificationTypeEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static NotificationTypeEnum? NotificationTypeEnumFromStringOrDefault(string value)
        {
            if (value.Equals("StrikethroughPrice"))
                return NotificationTypeEnum.StrikethroughPrice;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="NotificationTypeEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string NotificationTypeEnumToJsonValue(NotificationTypeEnum value)
        {
            if (value == NotificationTypeEnum.StrikethroughPrice)
                return "StrikethroughPrice";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// The type of the notification
        /// </summary>
        /// <value>The type of the notification</value>
        [JsonPropertyName("NotificationType")]
        public NotificationTypeEnum NotificationType { get; set; }

        /// <summary>
        /// The version of the strikethrough pricing notification.
        /// </summary>
        /// <value>The version of the strikethrough pricing notification.</value>
        public enum VarVersionEnum
        {
            /// <summary>
            /// Enum V2 for value: v2
            /// </summary>
            V2 = 1
        }

        /// <summary>
        /// Returns a <see cref="VarVersionEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static VarVersionEnum VarVersionEnumFromString(string value)
        {
            if (value.Equals("v2"))
                return VarVersionEnum.V2;

            throw new NotImplementedException($"Could not convert value to type VarVersionEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="VarVersionEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static VarVersionEnum? VarVersionEnumFromStringOrDefault(string value)
        {
            if (value.Equals("v2"))
                return VarVersionEnum.V2;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="VarVersionEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string VarVersionEnumToJsonValue(VarVersionEnum? value)
        {
            if (value == VarVersionEnum.V2)
                return "v2";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// Used to track the state of VarVersion
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<VarVersionEnum?> VarVersionOption { get; private set; }

        /// <summary>
        /// The version of the strikethrough pricing notification.
        /// </summary>
        /// <value>The version of the strikethrough pricing notification.</value>
        [JsonPropertyName("version")]
        public VarVersionEnum? VarVersion { get { return this.VarVersionOption; } set { this.VarVersionOption = new Option<VarVersionEnum?>(value); } }

        /// <summary>
        /// The ID of the Application to which the catalog items labels belongs.
        /// </summary>
        /// <value>The ID of the Application to which the catalog items labels belongs.</value>
        /* <example>322</example> */
        [JsonPropertyName("applicationId")]
        public long ApplicationId { get; set; }

        /// <summary>
        /// The batch number of the notification. Notifications might be sent in different batches.
        /// </summary>
        /// <value>The batch number of the notification. Notifications might be sent in different batches.</value>
        /* <example>1</example> */
        [JsonPropertyName("currentBatch")]
        public long CurrentBatch { get; set; }

        /// <summary>
        /// The total number of batches for the notification.
        /// </summary>
        /// <value>The total number of batches for the notification.</value>
        /* <example>10</example> */
        [JsonPropertyName("totalBatches")]
        public long TotalBatches { get; set; }

        /// <summary>
        /// Gets or Sets Trigger
        /// </summary>
        [JsonPropertyName("trigger")]
        public StrikethroughTrigger Trigger { get; set; }

        /// <summary>
        /// Gets or Sets ChangedItems
        /// </summary>
        [JsonPropertyName("changedItems")]
        public List<StrikethroughChangedItem> ChangedItems { get; set; }

        /// <summary>
        /// Used to track the state of ValidFrom
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> ValidFromOption { get; private set; }

        /// <summary>
        /// Timestamp at which the strikethrough pricing update becomes valid. Set for **scheduled** strikethrough pricing updates (version: v2) only. 
        /// </summary>
        /// <value>Timestamp at which the strikethrough pricing update becomes valid. Set for **scheduled** strikethrough pricing updates (version: v2) only. </value>
        /* <example>2021-07-20T22:00:00Z</example> */
        [JsonPropertyName("validFrom")]
        public DateTime? ValidFrom { get { return this.ValidFromOption; } set { this.ValidFromOption = new Option<DateTime?>(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class StrikethroughLabelingNotification {\n");
            sb.Append("  ApplicationId: ").Append(ApplicationId).Append("\n");
            sb.Append("  CurrentBatch: ").Append(CurrentBatch).Append("\n");
            sb.Append("  TotalBatches: ").Append(TotalBatches).Append("\n");
            sb.Append("  Trigger: ").Append(Trigger).Append("\n");
            sb.Append("  ChangedItems: ").Append(ChangedItems).Append("\n");
            sb.Append("  NotificationType: ").Append(NotificationType).Append("\n");
            sb.Append("  VarVersion: ").Append(VarVersion).Append("\n");
            sb.Append("  ValidFrom: ").Append(ValidFrom).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="StrikethroughLabelingNotification" />
    /// </summary>
    public class StrikethroughLabelingNotificationJsonConverter : JsonConverter<StrikethroughLabelingNotification>
    {
        /// <summary>
        /// The format to use to serialize ValidFrom
        /// </summary>
        public static string ValidFromFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="StrikethroughLabelingNotification" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override StrikethroughLabelingNotification Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<long?> applicationId = default;
            Option<long?> currentBatch = default;
            Option<long?> totalBatches = default;
            Option<StrikethroughTrigger> trigger = default;
            Option<List<StrikethroughChangedItem>> changedItems = default;
            Option<StrikethroughLabelingNotification.NotificationTypeEnum?> notificationType = default;
            Option<StrikethroughLabelingNotification.VarVersionEnum?> varVersion = default;
            Option<DateTime?> validFrom = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "applicationId":
                            if (utf8JsonReader.TokenType != JsonTokenType.Null)
                                applicationId = new Option<long?>(utf8JsonReader.GetInt64());
                            break;
                        case "currentBatch":
                            if (utf8JsonReader.TokenType != JsonTokenType.Null)
                                currentBatch = new Option<long?>(utf8JsonReader.GetInt64());
                            break;
                        case "totalBatches":
                            if (utf8JsonReader.TokenType != JsonTokenType.Null)
                                totalBatches = new Option<long?>(utf8JsonReader.GetInt64());
                            break;
                        case "trigger":
                            if (utf8JsonReader.TokenType != JsonTokenType.Null)
                                trigger = new Option<StrikethroughTrigger>(JsonSerializer.Deserialize<StrikethroughTrigger>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "changedItems":
                            if (utf8JsonReader.TokenType != JsonTokenType.Null)
                                changedItems = new Option<List<StrikethroughChangedItem>>(JsonSerializer.Deserialize<List<StrikethroughChangedItem>>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "NotificationType":
                            string notificationTypeRawValue = utf8JsonReader.GetString();
                            if (notificationTypeRawValue != null)
                                notificationType = new Option<StrikethroughLabelingNotification.NotificationTypeEnum?>(StrikethroughLabelingNotification.NotificationTypeEnumFromStringOrDefault(notificationTypeRawValue));
                            break;
                        case "version":
                            string varVersionRawValue = utf8JsonReader.GetString();
                            if (varVersionRawValue != null)
                                varVersion = new Option<StrikethroughLabelingNotification.VarVersionEnum?>(StrikethroughLabelingNotification.VarVersionEnumFromStringOrDefault(varVersionRawValue));
                            break;
                        case "validFrom":
                            if (utf8JsonReader.TokenType != JsonTokenType.Null)
                                validFrom = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        default:
                            break;
                    }
                }
            }

            if (!applicationId.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughLabelingNotification.", nameof(applicationId));

            if (!currentBatch.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughLabelingNotification.", nameof(currentBatch));

            if (!totalBatches.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughLabelingNotification.", nameof(totalBatches));

            if (!trigger.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughLabelingNotification.", nameof(trigger));

            if (!changedItems.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughLabelingNotification.", nameof(changedItems));

            if (!notificationType.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughLabelingNotification.", nameof(notificationType));

            if (applicationId.IsSet && applicationId.Value == null)
                throw new ArgumentNullException(nameof(applicationId), "Property is not nullable for class StrikethroughLabelingNotification.");

            if (currentBatch.IsSet && currentBatch.Value == null)
                throw new ArgumentNullException(nameof(currentBatch), "Property is not nullable for class StrikethroughLabelingNotification.");

            if (totalBatches.IsSet && totalBatches.Value == null)
                throw new ArgumentNullException(nameof(totalBatches), "Property is not nullable for class StrikethroughLabelingNotification.");

            if (trigger.IsSet && trigger.Value == null)
                throw new ArgumentNullException(nameof(trigger), "Property is not nullable for class StrikethroughLabelingNotification.");

            if (changedItems.IsSet && changedItems.Value == null)
                throw new ArgumentNullException(nameof(changedItems), "Property is not nullable for class StrikethroughLabelingNotification.");

            if (notificationType.IsSet && notificationType.Value == null)
                throw new ArgumentNullException(nameof(notificationType), "Property is not nullable for class StrikethroughLabelingNotification.");

            if (varVersion.IsSet && varVersion.Value == null)
                throw new ArgumentNullException(nameof(varVersion), "Property is not nullable for class StrikethroughLabelingNotification.");

            if (validFrom.IsSet && validFrom.Value == null)
                throw new ArgumentNullException(nameof(validFrom), "Property is not nullable for class StrikethroughLabelingNotification.");

            return new StrikethroughLabelingNotification(applicationId.Value.Value, currentBatch.Value.Value, totalBatches.Value.Value, trigger.Value, changedItems.Value, notificationType.Value.Value, varVersion, validFrom);
        }

        /// <summary>
        /// Serializes a <see cref="StrikethroughLabelingNotification" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="strikethroughLabelingNotification"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, StrikethroughLabelingNotification strikethroughLabelingNotification, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, strikethroughLabelingNotification, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="StrikethroughLabelingNotification" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="strikethroughLabelingNotification"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, StrikethroughLabelingNotification strikethroughLabelingNotification, JsonSerializerOptions jsonSerializerOptions)
        {
            if (strikethroughLabelingNotification.Trigger == null)
                throw new ArgumentNullException(nameof(strikethroughLabelingNotification.Trigger), "Property is required for class StrikethroughLabelingNotification.");

            if (strikethroughLabelingNotification.ChangedItems == null)
                throw new ArgumentNullException(nameof(strikethroughLabelingNotification.ChangedItems), "Property is required for class StrikethroughLabelingNotification.");

            writer.WriteNumber("applicationId", strikethroughLabelingNotification.ApplicationId);

            writer.WriteNumber("currentBatch", strikethroughLabelingNotification.CurrentBatch);

            writer.WriteNumber("totalBatches", strikethroughLabelingNotification.TotalBatches);

            writer.WritePropertyName("trigger");
            JsonSerializer.Serialize(writer, strikethroughLabelingNotification.Trigger, jsonSerializerOptions);
            writer.WritePropertyName("changedItems");
            JsonSerializer.Serialize(writer, strikethroughLabelingNotification.ChangedItems, jsonSerializerOptions);
            var notificationTypeRawValue = StrikethroughLabelingNotification.NotificationTypeEnumToJsonValue(strikethroughLabelingNotification.NotificationType);
            writer.WriteString("NotificationType", notificationTypeRawValue);
            var varVersionRawValue = StrikethroughLabelingNotification.VarVersionEnumToJsonValue(strikethroughLabelingNotification.VarVersionOption.Value.Value);
            writer.WriteString("version", varVersionRawValue);
            if (strikethroughLabelingNotification.ValidFromOption.IsSet)
                writer.WriteString("validFrom", strikethroughLabelingNotification.ValidFromOption.Value.Value.ToString(ValidFromFormat));
        }
    }
}
