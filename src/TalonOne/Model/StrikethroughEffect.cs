// <auto-generated>
/*
 * Talon.One API
 *
 * Use the Talon.One API to integrate with your application and to manage applications and campaigns:  - Use the operations in the [Integration API section](#integration-api) are used to integrate with our platform - Use the operation in the [Management API section](#management-api) to manage applications and campaigns.  ## Determining the base URL of the endpoints  The API is available at the same hostname as your Campaign Manager deployment. For example, if you access the Campaign Manager at `https://yourbaseurl.talon.one/`, the URL for the [updateCustomerSessionV2](https://docs.talon.one/integration-api#operation/updateCustomerSessionV2) endpoint is `https://yourbaseurl.talon.one/v2/customer_sessions/{Id}` 
 *
 * Contact: devs@talon.one
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using TalonOne.Client;

namespace TalonOne.Model
{
    /// <summary>
    /// The effect produced for the catalog item.
    /// </summary>
    public partial class StrikethroughEffect : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="StrikethroughEffect" /> class.
        /// </summary>
        /// <param name="campaignId">The ID of the campaign that effect belongs to.</param>
        /// <param name="rulesetId">The ID of the ruleset containing the rule that triggered this effect.</param>
        /// <param name="ruleIndex">The position of the rule that triggered this effect within the ruleset.</param>
        /// <param name="ruleName">The name of the rule that triggered this effect.</param>
        /// <param name="type">The type of this effect.</param>
        /// <param name="props">Arbitrary properties associated with this effect type.</param>
        /// <param name="startTime">The start of the time frame where the effect is active in UTC.</param>
        /// <param name="endTime">The end of the time frame where the effect is active in UTC.</param>
        /// <param name="selectedPriceType">The selected price type for this cart item (e.g. the price for members only).</param>
        /// <param name="selectedPrice">The value of the selected price type to apply to the SKU targeted by this effect, before any discounts are applied.</param>
        /// <param name="adjustmentReferenceId">The reference identifier of the selected price adjustment for this cart item.</param>
        /// <param name="targets">A list of entities (e.g. audiences) targeted by this effect.</param>
        [JsonConstructor]
        public StrikethroughEffect(long campaignId, long rulesetId, long ruleIndex, string ruleName, string type, Object props, Option<DateTime?> startTime = default, Option<DateTime?> endTime = default, Option<string> selectedPriceType = default, Option<decimal?> selectedPrice = default, Option<string> adjustmentReferenceId = default, Option<List<Object>> targets = default)
        {
            CampaignId = campaignId;
            RulesetId = rulesetId;
            RuleIndex = ruleIndex;
            RuleName = ruleName;
            Type = type;
            Props = props;
            StartTimeOption = startTime;
            EndTimeOption = endTime;
            SelectedPriceTypeOption = selectedPriceType;
            SelectedPriceOption = selectedPrice;
            AdjustmentReferenceIdOption = adjustmentReferenceId;
            TargetsOption = targets;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// The ID of the campaign that effect belongs to.
        /// </summary>
        /// <value>The ID of the campaign that effect belongs to.</value>
        /* <example>3</example> */
        [JsonPropertyName("campaignId")]
        public long CampaignId { get; set; }

        /// <summary>
        /// The ID of the ruleset containing the rule that triggered this effect.
        /// </summary>
        /// <value>The ID of the ruleset containing the rule that triggered this effect.</value>
        /* <example>11</example> */
        [JsonPropertyName("rulesetId")]
        public long RulesetId { get; set; }

        /// <summary>
        /// The position of the rule that triggered this effect within the ruleset.
        /// </summary>
        /// <value>The position of the rule that triggered this effect within the ruleset.</value>
        /* <example>2</example> */
        [JsonPropertyName("ruleIndex")]
        public long RuleIndex { get; set; }

        /// <summary>
        /// The name of the rule that triggered this effect.
        /// </summary>
        /// <value>The name of the rule that triggered this effect.</value>
        /* <example>Add 2 points</example> */
        [JsonPropertyName("ruleName")]
        public string RuleName { get; set; }

        /// <summary>
        /// The type of this effect.
        /// </summary>
        /// <value>The type of this effect.</value>
        /* <example>setDiscountPerItem</example> */
        [JsonPropertyName("type")]
        public string Type { get; set; }

        /// <summary>
        /// Arbitrary properties associated with this effect type.
        /// </summary>
        /// <value>Arbitrary properties associated with this effect type.</value>
        [JsonPropertyName("props")]
        public Object Props { get; set; }

        /// <summary>
        /// Used to track the state of StartTime
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> StartTimeOption { get; private set; }

        /// <summary>
        /// The start of the time frame where the effect is active in UTC.
        /// </summary>
        /// <value>The start of the time frame where the effect is active in UTC.</value>
        /* <example>2021-07-20T22:00:00Z</example> */
        [JsonPropertyName("startTime")]
        public DateTime? StartTime { get { return this.StartTimeOption; } set { this.StartTimeOption = new Option<DateTime?>(value); } }

        /// <summary>
        /// Used to track the state of EndTime
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> EndTimeOption { get; private set; }

        /// <summary>
        /// The end of the time frame where the effect is active in UTC.
        /// </summary>
        /// <value>The end of the time frame where the effect is active in UTC.</value>
        /* <example>2021-10-01T02:00:00Z</example> */
        [JsonPropertyName("endTime")]
        public DateTime? EndTime { get { return this.EndTimeOption; } set { this.EndTimeOption = new Option<DateTime?>(value); } }

        /// <summary>
        /// Used to track the state of SelectedPriceType
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string> SelectedPriceTypeOption { get; private set; }

        /// <summary>
        /// The selected price type for this cart item (e.g. the price for members only).
        /// </summary>
        /// <value>The selected price type for this cart item (e.g. the price for members only).</value>
        /* <example>member</example> */
        [JsonPropertyName("selectedPriceType")]
        public string SelectedPriceType { get { return this.SelectedPriceTypeOption; } set { this.SelectedPriceTypeOption = new Option<string>(value); } }

        /// <summary>
        /// Used to track the state of SelectedPrice
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<decimal?> SelectedPriceOption { get; private set; }

        /// <summary>
        /// The value of the selected price type to apply to the SKU targeted by this effect, before any discounts are applied.
        /// </summary>
        /// <value>The value of the selected price type to apply to the SKU targeted by this effect, before any discounts are applied.</value>
        /* <example>100</example> */
        [JsonPropertyName("selectedPrice")]
        public decimal? SelectedPrice { get { return this.SelectedPriceOption; } set { this.SelectedPriceOption = new Option<decimal?>(value); } }

        /// <summary>
        /// Used to track the state of AdjustmentReferenceId
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string> AdjustmentReferenceIdOption { get; private set; }

        /// <summary>
        /// The reference identifier of the selected price adjustment for this cart item.
        /// </summary>
        /// <value>The reference identifier of the selected price adjustment for this cart item.</value>
        /* <example>68851723-e6fa-488f-ace9-112581e6c19b</example> */
        [JsonPropertyName("adjustmentReferenceId")]
        public string AdjustmentReferenceId { get { return this.AdjustmentReferenceIdOption; } set { this.AdjustmentReferenceIdOption = new Option<string>(value); } }

        /// <summary>
        /// Used to track the state of Targets
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<List<Object>> TargetsOption { get; private set; }

        /// <summary>
        /// A list of entities (e.g. audiences) targeted by this effect.
        /// </summary>
        /// <value>A list of entities (e.g. audiences) targeted by this effect.</value>
        [JsonPropertyName("targets")]
        public List<Object> Targets { get { return this.TargetsOption; } set { this.TargetsOption = new Option<List<Object>>(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class StrikethroughEffect {\n");
            sb.Append("  CampaignId: ").Append(CampaignId).Append("\n");
            sb.Append("  RulesetId: ").Append(RulesetId).Append("\n");
            sb.Append("  RuleIndex: ").Append(RuleIndex).Append("\n");
            sb.Append("  RuleName: ").Append(RuleName).Append("\n");
            sb.Append("  Type: ").Append(Type).Append("\n");
            sb.Append("  Props: ").Append(Props).Append("\n");
            sb.Append("  StartTime: ").Append(StartTime).Append("\n");
            sb.Append("  EndTime: ").Append(EndTime).Append("\n");
            sb.Append("  SelectedPriceType: ").Append(SelectedPriceType).Append("\n");
            sb.Append("  SelectedPrice: ").Append(SelectedPrice).Append("\n");
            sb.Append("  AdjustmentReferenceId: ").Append(AdjustmentReferenceId).Append("\n");
            sb.Append("  Targets: ").Append(Targets).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="StrikethroughEffect" />
    /// </summary>
    public class StrikethroughEffectJsonConverter : JsonConverter<StrikethroughEffect>
    {
        /// <summary>
        /// The format to use to serialize StartTime
        /// </summary>
        public static string StartTimeFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// The format to use to serialize EndTime
        /// </summary>
        public static string EndTimeFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="StrikethroughEffect" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override StrikethroughEffect Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<long?> campaignId = default;
            Option<long?> rulesetId = default;
            Option<long?> ruleIndex = default;
            Option<string> ruleName = default;
            Option<string> type = default;
            Option<Object> props = default;
            Option<DateTime?> startTime = default;
            Option<DateTime?> endTime = default;
            Option<string> selectedPriceType = default;
            Option<decimal?> selectedPrice = default;
            Option<string> adjustmentReferenceId = default;
            Option<List<Object>> targets = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "campaignId":
                            campaignId = new Option<long?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (long?)null : utf8JsonReader.GetInt64());
                            break;
                        case "rulesetId":
                            rulesetId = new Option<long?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (long?)null : utf8JsonReader.GetInt64());
                            break;
                        case "ruleIndex":
                            ruleIndex = new Option<long?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (long?)null : utf8JsonReader.GetInt64());
                            break;
                        case "ruleName":
                            ruleName = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "type":
                            type = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "props":
                            props = new Option<Object>(JsonSerializer.Deserialize<Object>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "startTime":
                            startTime = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "endTime":
                            endTime = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "selectedPriceType":
                            selectedPriceType = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "selectedPrice":
                            selectedPrice = new Option<decimal?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (decimal?)null : utf8JsonReader.GetDecimal());
                            break;
                        case "adjustmentReferenceId":
                            adjustmentReferenceId = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "targets":
                            targets = new Option<List<Object>>(JsonSerializer.Deserialize<List<Object>>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        default:
                            break;
                    }
                }
            }

            if (!campaignId.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughEffect.", nameof(campaignId));

            if (!rulesetId.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughEffect.", nameof(rulesetId));

            if (!ruleIndex.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughEffect.", nameof(ruleIndex));

            if (!ruleName.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughEffect.", nameof(ruleName));

            if (!type.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughEffect.", nameof(type));

            if (!props.IsSet)
                throw new ArgumentException("Property is required for class StrikethroughEffect.", nameof(props));

            if (campaignId.IsSet && campaignId.Value == null)
                throw new ArgumentNullException(nameof(campaignId), "Property is not nullable for class StrikethroughEffect.");

            if (rulesetId.IsSet && rulesetId.Value == null)
                throw new ArgumentNullException(nameof(rulesetId), "Property is not nullable for class StrikethroughEffect.");

            if (ruleIndex.IsSet && ruleIndex.Value == null)
                throw new ArgumentNullException(nameof(ruleIndex), "Property is not nullable for class StrikethroughEffect.");

            if (ruleName.IsSet && ruleName.Value == null)
                throw new ArgumentNullException(nameof(ruleName), "Property is not nullable for class StrikethroughEffect.");

            if (type.IsSet && type.Value == null)
                throw new ArgumentNullException(nameof(type), "Property is not nullable for class StrikethroughEffect.");

            if (props.IsSet && props.Value == null)
                throw new ArgumentNullException(nameof(props), "Property is not nullable for class StrikethroughEffect.");

            if (startTime.IsSet && startTime.Value == null)
                throw new ArgumentNullException(nameof(startTime), "Property is not nullable for class StrikethroughEffect.");

            if (endTime.IsSet && endTime.Value == null)
                throw new ArgumentNullException(nameof(endTime), "Property is not nullable for class StrikethroughEffect.");

            if (selectedPriceType.IsSet && selectedPriceType.Value == null)
                throw new ArgumentNullException(nameof(selectedPriceType), "Property is not nullable for class StrikethroughEffect.");

            if (selectedPrice.IsSet && selectedPrice.Value == null)
                throw new ArgumentNullException(nameof(selectedPrice), "Property is not nullable for class StrikethroughEffect.");

            if (adjustmentReferenceId.IsSet && adjustmentReferenceId.Value == null)
                throw new ArgumentNullException(nameof(adjustmentReferenceId), "Property is not nullable for class StrikethroughEffect.");

            if (targets.IsSet && targets.Value == null)
                throw new ArgumentNullException(nameof(targets), "Property is not nullable for class StrikethroughEffect.");

            return new StrikethroughEffect(campaignId.Value.Value, rulesetId.Value.Value, ruleIndex.Value.Value, ruleName.Value, type.Value, props.Value, startTime, endTime, selectedPriceType, selectedPrice, adjustmentReferenceId, targets);
        }

        /// <summary>
        /// Serializes a <see cref="StrikethroughEffect" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="strikethroughEffect"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, StrikethroughEffect strikethroughEffect, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, strikethroughEffect, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="StrikethroughEffect" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="strikethroughEffect"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, StrikethroughEffect strikethroughEffect, JsonSerializerOptions jsonSerializerOptions)
        {
            if (strikethroughEffect.RuleName == null)
                throw new ArgumentNullException(nameof(strikethroughEffect.RuleName), "Property is required for class StrikethroughEffect.");

            if (strikethroughEffect.Type == null)
                throw new ArgumentNullException(nameof(strikethroughEffect.Type), "Property is required for class StrikethroughEffect.");

            if (strikethroughEffect.Props == null)
                throw new ArgumentNullException(nameof(strikethroughEffect.Props), "Property is required for class StrikethroughEffect.");

            if (strikethroughEffect.SelectedPriceTypeOption.IsSet && strikethroughEffect.SelectedPriceType == null)
                throw new ArgumentNullException(nameof(strikethroughEffect.SelectedPriceType), "Property is required for class StrikethroughEffect.");

            if (strikethroughEffect.AdjustmentReferenceIdOption.IsSet && strikethroughEffect.AdjustmentReferenceId == null)
                throw new ArgumentNullException(nameof(strikethroughEffect.AdjustmentReferenceId), "Property is required for class StrikethroughEffect.");

            if (strikethroughEffect.TargetsOption.IsSet && strikethroughEffect.Targets == null)
                throw new ArgumentNullException(nameof(strikethroughEffect.Targets), "Property is required for class StrikethroughEffect.");

            writer.WriteNumber("campaignId", strikethroughEffect.CampaignId);

            writer.WriteNumber("rulesetId", strikethroughEffect.RulesetId);

            writer.WriteNumber("ruleIndex", strikethroughEffect.RuleIndex);

            writer.WriteString("ruleName", strikethroughEffect.RuleName);

            writer.WriteString("type", strikethroughEffect.Type);

            writer.WritePropertyName("props");
            JsonSerializer.Serialize(writer, strikethroughEffect.Props, jsonSerializerOptions);
            if (strikethroughEffect.StartTimeOption.IsSet)
                writer.WriteString("startTime", strikethroughEffect.StartTimeOption.Value.Value.ToString(StartTimeFormat));

            if (strikethroughEffect.EndTimeOption.IsSet)
                writer.WriteString("endTime", strikethroughEffect.EndTimeOption.Value.Value.ToString(EndTimeFormat));

            if (strikethroughEffect.SelectedPriceTypeOption.IsSet)
                writer.WriteString("selectedPriceType", strikethroughEffect.SelectedPriceType);

            if (strikethroughEffect.SelectedPriceOption.IsSet)
                writer.WriteNumber("selectedPrice", strikethroughEffect.SelectedPriceOption.Value.Value);

            if (strikethroughEffect.AdjustmentReferenceIdOption.IsSet)
                writer.WriteString("adjustmentReferenceId", strikethroughEffect.AdjustmentReferenceId);

            if (strikethroughEffect.TargetsOption.IsSet)
            {
                writer.WritePropertyName("targets");
                JsonSerializer.Serialize(writer, strikethroughEffect.Targets, jsonSerializerOptions);
            }
        }
    }
}
