// <auto-generated>
/*
 * Talon.One API
 *
 * Use the Talon.One API to integrate with your application and to manage applications and campaigns:  - Use the operations in the [Integration API section](#integration-api) are used to integrate with our platform - Use the operation in the [Management API section](#management-api) to manage applications and campaigns.  ## Determining the base URL of the endpoints  The API is available at the same hostname as your Campaign Manager deployment. For example, if you access the Campaign Manager at `https://yourbaseurl.talon.one/`, the URL for the [updateCustomerSessionV2](https://docs.talon.one/integration-api#operation/updateCustomerSessionV2) endpoint is `https://yourbaseurl.talon.one/v2/customer_sessions/{Id}` 
 *
 * Contact: devs@talon.one
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using TalonOne.Client;

namespace TalonOne.Model
{
    /// <summary>
    /// CreateApplicationAPIKey
    /// </summary>
    public partial class CreateApplicationAPIKey : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="CreateApplicationAPIKey" /> class.
        /// </summary>
        /// <param name="title">Title of the API key.</param>
        /// <param name="expires">The date the API key expires.</param>
        /// <param name="platform">The third-party platform the API key is valid for. Use &#x60;none&#x60; for a generic API key to be used from your own integration layer. </param>
        /// <param name="type">The API key type. Can be empty or &#x60;staging&#x60;.  Staging API keys can only be used for dry requests with the [Update customer session](https://docs.talon.one/integration-api#tag/Customer-sessions/operation/updateCustomerSessionV2) endpoint, [Update customer profile](https://docs.talon.one/integration-api#tag/Customer-profiles/operation/updateCustomerProfileV2) endpoint, and [Track event](https://docs.talon.one/integration-api#tag/Events/operation/trackEventV2) endpoint.  When using the _Update customer profile_ endpoint with a staging API key, the query parameter &#x60;runRuleEngine&#x60; must be &#x60;true&#x60;. </param>
        /// <param name="timeOffset">A time offset in nanoseconds associated with the API key. When making a request using the API key, rule evaluation is based on a date that is calculated by adding the offset to the current date. </param>
        [JsonConstructor]
        public CreateApplicationAPIKey(string title, DateTime expires, Option<PlatformEnum?> platform = default, Option<TypeEnum?> type = default, Option<long?> timeOffset = default)
        {
            Title = title;
            Expires = expires;
            PlatformOption = platform;
            TypeOption = type;
            TimeOffsetOption = timeOffset;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// The third-party platform the API key is valid for. Use &#x60;none&#x60; for a generic API key to be used from your own integration layer. 
        /// </summary>
        /// <value>The third-party platform the API key is valid for. Use &#x60;none&#x60; for a generic API key to be used from your own integration layer. </value>
        public enum PlatformEnum
        {
            /// <summary>
            /// Enum None for value: none
            /// </summary>
            None = 1,

            /// <summary>
            /// Enum Segment for value: segment
            /// </summary>
            Segment = 2,

            /// <summary>
            /// Enum Braze for value: braze
            /// </summary>
            Braze = 3,

            /// <summary>
            /// Enum Mparticle for value: mparticle
            /// </summary>
            Mparticle = 4,

            /// <summary>
            /// Enum Shopify for value: shopify
            /// </summary>
            Shopify = 5,

            /// <summary>
            /// Enum Iterable for value: iterable
            /// </summary>
            Iterable = 6,

            /// <summary>
            /// Enum CustomerEngagement for value: customer_engagement
            /// </summary>
            CustomerEngagement = 7,

            /// <summary>
            /// Enum CustomerData for value: customer_data
            /// </summary>
            CustomerData = 8,

            /// <summary>
            /// Enum Salesforce for value: salesforce
            /// </summary>
            Salesforce = 9,

            /// <summary>
            /// Enum Emarsys for value: emarsys
            /// </summary>
            Emarsys = 10
        }

        /// <summary>
        /// Returns a <see cref="PlatformEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static PlatformEnum PlatformEnumFromString(string value)
        {
            if (value.Equals("none"))
                return PlatformEnum.None;

            if (value.Equals("segment"))
                return PlatformEnum.Segment;

            if (value.Equals("braze"))
                return PlatformEnum.Braze;

            if (value.Equals("mparticle"))
                return PlatformEnum.Mparticle;

            if (value.Equals("shopify"))
                return PlatformEnum.Shopify;

            if (value.Equals("iterable"))
                return PlatformEnum.Iterable;

            if (value.Equals("customer_engagement"))
                return PlatformEnum.CustomerEngagement;

            if (value.Equals("customer_data"))
                return PlatformEnum.CustomerData;

            if (value.Equals("salesforce"))
                return PlatformEnum.Salesforce;

            if (value.Equals("emarsys"))
                return PlatformEnum.Emarsys;

            throw new NotImplementedException($"Could not convert value to type PlatformEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="PlatformEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static PlatformEnum? PlatformEnumFromStringOrDefault(string value)
        {
            if (value.Equals("none"))
                return PlatformEnum.None;

            if (value.Equals("segment"))
                return PlatformEnum.Segment;

            if (value.Equals("braze"))
                return PlatformEnum.Braze;

            if (value.Equals("mparticle"))
                return PlatformEnum.Mparticle;

            if (value.Equals("shopify"))
                return PlatformEnum.Shopify;

            if (value.Equals("iterable"))
                return PlatformEnum.Iterable;

            if (value.Equals("customer_engagement"))
                return PlatformEnum.CustomerEngagement;

            if (value.Equals("customer_data"))
                return PlatformEnum.CustomerData;

            if (value.Equals("salesforce"))
                return PlatformEnum.Salesforce;

            if (value.Equals("emarsys"))
                return PlatformEnum.Emarsys;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="PlatformEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string PlatformEnumToJsonValue(PlatformEnum? value)
        {
            if (value == PlatformEnum.None)
                return "none";

            if (value == PlatformEnum.Segment)
                return "segment";

            if (value == PlatformEnum.Braze)
                return "braze";

            if (value == PlatformEnum.Mparticle)
                return "mparticle";

            if (value == PlatformEnum.Shopify)
                return "shopify";

            if (value == PlatformEnum.Iterable)
                return "iterable";

            if (value == PlatformEnum.CustomerEngagement)
                return "customer_engagement";

            if (value == PlatformEnum.CustomerData)
                return "customer_data";

            if (value == PlatformEnum.Salesforce)
                return "salesforce";

            if (value == PlatformEnum.Emarsys)
                return "emarsys";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// Used to track the state of Platform
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<PlatformEnum?> PlatformOption { get; private set; }

        /// <summary>
        /// The third-party platform the API key is valid for. Use &#x60;none&#x60; for a generic API key to be used from your own integration layer. 
        /// </summary>
        /// <value>The third-party platform the API key is valid for. Use &#x60;none&#x60; for a generic API key to be used from your own integration layer. </value>
        /* <example>none</example> */
        [JsonPropertyName("platform")]
        public PlatformEnum? Platform { get { return this.PlatformOption; } set { this.PlatformOption = new Option<PlatformEnum?>(value); } }

        /// <summary>
        /// The API key type. Can be empty or &#x60;staging&#x60;.  Staging API keys can only be used for dry requests with the [Update customer session](https://docs.talon.one/integration-api#tag/Customer-sessions/operation/updateCustomerSessionV2) endpoint, [Update customer profile](https://docs.talon.one/integration-api#tag/Customer-profiles/operation/updateCustomerProfileV2) endpoint, and [Track event](https://docs.talon.one/integration-api#tag/Events/operation/trackEventV2) endpoint.  When using the _Update customer profile_ endpoint with a staging API key, the query parameter &#x60;runRuleEngine&#x60; must be &#x60;true&#x60;. 
        /// </summary>
        /// <value>The API key type. Can be empty or &#x60;staging&#x60;.  Staging API keys can only be used for dry requests with the [Update customer session](https://docs.talon.one/integration-api#tag/Customer-sessions/operation/updateCustomerSessionV2) endpoint, [Update customer profile](https://docs.talon.one/integration-api#tag/Customer-profiles/operation/updateCustomerProfileV2) endpoint, and [Track event](https://docs.talon.one/integration-api#tag/Events/operation/trackEventV2) endpoint.  When using the _Update customer profile_ endpoint with a staging API key, the query parameter &#x60;runRuleEngine&#x60; must be &#x60;true&#x60;. </value>
        public enum TypeEnum
        {
            /// <summary>
            /// Enum Staging for value: staging
            /// </summary>
            Staging = 1
        }

        /// <summary>
        /// Returns a <see cref="TypeEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static TypeEnum TypeEnumFromString(string value)
        {
            if (value.Equals("staging"))
                return TypeEnum.Staging;

            throw new NotImplementedException($"Could not convert value to type TypeEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="TypeEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static TypeEnum? TypeEnumFromStringOrDefault(string value)
        {
            if (value.Equals("staging"))
                return TypeEnum.Staging;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="TypeEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string TypeEnumToJsonValue(TypeEnum? value)
        {
            if (value == TypeEnum.Staging)
                return "staging";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// Used to track the state of Type
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<TypeEnum?> TypeOption { get; private set; }

        /// <summary>
        /// The API key type. Can be empty or &#x60;staging&#x60;.  Staging API keys can only be used for dry requests with the [Update customer session](https://docs.talon.one/integration-api#tag/Customer-sessions/operation/updateCustomerSessionV2) endpoint, [Update customer profile](https://docs.talon.one/integration-api#tag/Customer-profiles/operation/updateCustomerProfileV2) endpoint, and [Track event](https://docs.talon.one/integration-api#tag/Events/operation/trackEventV2) endpoint.  When using the _Update customer profile_ endpoint with a staging API key, the query parameter &#x60;runRuleEngine&#x60; must be &#x60;true&#x60;. 
        /// </summary>
        /// <value>The API key type. Can be empty or &#x60;staging&#x60;.  Staging API keys can only be used for dry requests with the [Update customer session](https://docs.talon.one/integration-api#tag/Customer-sessions/operation/updateCustomerSessionV2) endpoint, [Update customer profile](https://docs.talon.one/integration-api#tag/Customer-profiles/operation/updateCustomerProfileV2) endpoint, and [Track event](https://docs.talon.one/integration-api#tag/Events/operation/trackEventV2) endpoint.  When using the _Update customer profile_ endpoint with a staging API key, the query parameter &#x60;runRuleEngine&#x60; must be &#x60;true&#x60;. </value>
        /* <example>staging</example> */
        [JsonPropertyName("type")]
        public TypeEnum? Type { get { return this.TypeOption; } set { this.TypeOption = new Option<TypeEnum?>(value); } }

        /// <summary>
        /// Title of the API key.
        /// </summary>
        /// <value>Title of the API key.</value>
        /* <example>My generated key</example> */
        [JsonPropertyName("title")]
        public string Title { get; set; }

        /// <summary>
        /// The date the API key expires.
        /// </summary>
        /// <value>The date the API key expires.</value>
        /* <example>2023-08-24T14:00:00Z</example> */
        [JsonPropertyName("expires")]
        public DateTime Expires { get; set; }

        /// <summary>
        /// Used to track the state of TimeOffset
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<long?> TimeOffsetOption { get; private set; }

        /// <summary>
        /// A time offset in nanoseconds associated with the API key. When making a request using the API key, rule evaluation is based on a date that is calculated by adding the offset to the current date. 
        /// </summary>
        /// <value>A time offset in nanoseconds associated with the API key. When making a request using the API key, rule evaluation is based on a date that is calculated by adding the offset to the current date. </value>
        /* <example>100000</example> */
        [JsonPropertyName("timeOffset")]
        public long? TimeOffset { get { return this.TimeOffsetOption; } set { this.TimeOffsetOption = new Option<long?>(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class CreateApplicationAPIKey {\n");
            sb.Append("  Title: ").Append(Title).Append("\n");
            sb.Append("  Expires: ").Append(Expires).Append("\n");
            sb.Append("  Platform: ").Append(Platform).Append("\n");
            sb.Append("  Type: ").Append(Type).Append("\n");
            sb.Append("  TimeOffset: ").Append(TimeOffset).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="CreateApplicationAPIKey" />
    /// </summary>
    public class CreateApplicationAPIKeyJsonConverter : JsonConverter<CreateApplicationAPIKey>
    {
        /// <summary>
        /// The format to use to serialize Expires
        /// </summary>
        public static string ExpiresFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="CreateApplicationAPIKey" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override CreateApplicationAPIKey Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string> title = default;
            Option<DateTime?> expires = default;
            Option<CreateApplicationAPIKey.PlatformEnum?> platform = default;
            Option<CreateApplicationAPIKey.TypeEnum?> type = default;
            Option<long?> timeOffset = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "title":
                            title = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "expires":
                            if (utf8JsonReader.TokenType != JsonTokenType.Null)
                                expires = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "platform":
                            string platformRawValue = utf8JsonReader.GetString();
                            if (platformRawValue != null)
                                platform = new Option<CreateApplicationAPIKey.PlatformEnum?>(CreateApplicationAPIKey.PlatformEnumFromStringOrDefault(platformRawValue));
                            break;
                        case "type":
                            string typeRawValue = utf8JsonReader.GetString();
                            if (typeRawValue != null)
                                type = new Option<CreateApplicationAPIKey.TypeEnum?>(CreateApplicationAPIKey.TypeEnumFromStringOrDefault(typeRawValue));
                            break;
                        case "timeOffset":
                            if (utf8JsonReader.TokenType != JsonTokenType.Null)
                                timeOffset = new Option<long?>(utf8JsonReader.GetInt64());
                            break;
                        default:
                            break;
                    }
                }
            }

            if (!title.IsSet)
                throw new ArgumentException("Property is required for class CreateApplicationAPIKey.", nameof(title));

            if (!expires.IsSet)
                throw new ArgumentException("Property is required for class CreateApplicationAPIKey.", nameof(expires));

            if (title.IsSet && title.Value == null)
                throw new ArgumentNullException(nameof(title), "Property is not nullable for class CreateApplicationAPIKey.");

            if (expires.IsSet && expires.Value == null)
                throw new ArgumentNullException(nameof(expires), "Property is not nullable for class CreateApplicationAPIKey.");

            if (platform.IsSet && platform.Value == null)
                throw new ArgumentNullException(nameof(platform), "Property is not nullable for class CreateApplicationAPIKey.");

            if (type.IsSet && type.Value == null)
                throw new ArgumentNullException(nameof(type), "Property is not nullable for class CreateApplicationAPIKey.");

            if (timeOffset.IsSet && timeOffset.Value == null)
                throw new ArgumentNullException(nameof(timeOffset), "Property is not nullable for class CreateApplicationAPIKey.");

            return new CreateApplicationAPIKey(title.Value, expires.Value.Value, platform, type, timeOffset);
        }

        /// <summary>
        /// Serializes a <see cref="CreateApplicationAPIKey" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="createApplicationAPIKey"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, CreateApplicationAPIKey createApplicationAPIKey, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, createApplicationAPIKey, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="CreateApplicationAPIKey" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="createApplicationAPIKey"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, CreateApplicationAPIKey createApplicationAPIKey, JsonSerializerOptions jsonSerializerOptions)
        {
            if (createApplicationAPIKey.Title == null)
                throw new ArgumentNullException(nameof(createApplicationAPIKey.Title), "Property is required for class CreateApplicationAPIKey.");

            writer.WriteString("title", createApplicationAPIKey.Title);

            writer.WriteString("expires", createApplicationAPIKey.Expires.ToString(ExpiresFormat));

            var platformRawValue = CreateApplicationAPIKey.PlatformEnumToJsonValue(createApplicationAPIKey.PlatformOption.Value.Value);
            writer.WriteString("platform", platformRawValue);
            var typeRawValue = CreateApplicationAPIKey.TypeEnumToJsonValue(createApplicationAPIKey.TypeOption.Value.Value);
            writer.WriteString("type", typeRawValue);
            if (createApplicationAPIKey.TimeOffsetOption.IsSet)
                writer.WriteNumber("timeOffset", createApplicationAPIKey.TimeOffsetOption.Value.Value);
        }
    }
}
