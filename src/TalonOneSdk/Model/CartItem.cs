// <auto-generated>
/*
 * Talon.One API
 *
 * Use the Talon.One API to integrate with your application and to manage applications and campaigns:  - Use the operations in the [Integration API section](#integration-api) are used to integrate with our platform - Use the operation in the [Management API section](#management-api) to manage applications and campaigns.  ## Determining the base URL of the endpoints  The API is available at the same hostname as your Campaign Manager deployment. For example, if you access the Campaign Manager at `https://yourbaseurl.talon.one/`, the URL for the [updateCustomerSessionV2](https://docs.talon.one/integration-api#operation/updateCustomerSessionV2) endpoint is `https://yourbaseurl.talon.one/v2/customer_sessions/{Id}` 
 *
 * Contact: devs@talon.one
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using TalonOneSdk.Client;

namespace TalonOneSdk.Model
{
    /// <summary>
    /// CartItem
    /// </summary>
    public partial class CartItem : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="CartItem" /> class.
        /// </summary>
        /// <param name="sku">Stock keeping unit of item.</param>
        /// <param name="quantity">Number of units of this item. Due to [cart item flattening](https://docs.talon.one/docs/product/rules/understanding-cart-item-flattening), if you provide a quantity greater than 1, the item will be split in as many items as the provided quantity. This will impact the number of **per-item** effects triggered from your campaigns. </param>
        /// <param name="name">Name of item.</param>
        /// <param name="returnedQuantity">Number of returned items, calculated internally based on returns of this item.</param>
        /// <param name="remainingQuantity">Remaining quantity of the item, calculated internally based on returns of this item.</param>
        /// <param name="price">Price of the item in the currency defined by your Application. This field is required if this item is not part of a [catalog](https://docs.talon.one/docs/product/account/dev-tools/managing-cart-item-catalogs). If it is part of a catalog, setting a price here overrides the price from the catalog. </param>
        /// <param name="category">Type, group or model of the item.</param>
        /// <param name="product">product</param>
        /// <param name="weight">Weight of item in grams.</param>
        /// <param name="height">Height of item in mm.</param>
        /// <param name="width">Width of item in mm.</param>
        /// <param name="length">Length of item in mm.</param>
        /// <param name="position">Position of the Cart Item in the Cart (calculated internally).</param>
        /// <param name="attributes">Use this property to set a value for the attributes of your choice. [Attributes](https://docs.talon.one/docs/dev/concepts/attributes) represent any information to attach to this cart item.  Custom _cart item_ attributes must be created in the Campaign Manager before you set them with this property.  **Note:** Any previously defined attributes that you do not include in the array will be removed. </param>
        /// <param name="additionalCosts">Use this property to set a value for the additional costs of this item, such as a shipping cost. They must be created in the Campaign Manager before you set them with this property. See [Managing additional costs](https://docs.talon.one/docs/product/account/dev-tools/managing-additional-costs). </param>
        /// <param name="catalogItemID">The catalog item ID.</param>
        /// <param name="selectedPriceType">The selected price type for this cart item (e.g. the price for members only).</param>
        /// <param name="adjustmentReferenceId">The reference ID of the selected price adjustment for this cart item. Only returned if the selected price resulted from a price adjustment.</param>
        /// <param name="adjustmentEffectiveFrom">The date and time from which the price adjustment is effective. Only returned if the selected price resulted from a price adjustment that contains this field.</param>
        /// <param name="adjustmentEffectiveUntil">The date and time until which the price adjustment is effective. Only returned if the selected price resulted from a price adjustment that contains this field.</param>
        /// <param name="prices">A map of keys and values representing the price types and related price adjustment details for this cart item. The keys correspond to the &#x60;priceType&#x60; names. </param>
        [JsonConstructor]
        public CartItem(string sku, long quantity, Option<string> name = default, Option<long?> returnedQuantity = default, Option<long?> remainingQuantity = default, Option<decimal?> price = default, Option<string> category = default, Option<Product> product = default, Option<decimal?> weight = default, Option<decimal?> height = default, Option<decimal?> width = default, Option<decimal?> length = default, Option<decimal?> position = default, Option<Object> attributes = default, Option<Dictionary<string, AdditionalCost>> additionalCosts = default, Option<long?> catalogItemID = default, Option<string> selectedPriceType = default, Option<Guid?> adjustmentReferenceId = default, Option<DateTime?> adjustmentEffectiveFrom = default, Option<DateTime?> adjustmentEffectiveUntil = default, Option<Dictionary<string, PriceDetail>> prices = default)
        {
            Sku = sku;
            Quantity = quantity;
            NameOption = name;
            ReturnedQuantityOption = returnedQuantity;
            RemainingQuantityOption = remainingQuantity;
            PriceOption = price;
            CategoryOption = category;
            ProductOption = product;
            WeightOption = weight;
            HeightOption = height;
            WidthOption = width;
            LengthOption = length;
            PositionOption = position;
            AttributesOption = attributes;
            AdditionalCostsOption = additionalCosts;
            CatalogItemIDOption = catalogItemID;
            SelectedPriceTypeOption = selectedPriceType;
            AdjustmentReferenceIdOption = adjustmentReferenceId;
            AdjustmentEffectiveFromOption = adjustmentEffectiveFrom;
            AdjustmentEffectiveUntilOption = adjustmentEffectiveUntil;
            PricesOption = prices;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// Stock keeping unit of item.
        /// </summary>
        /// <value>Stock keeping unit of item.</value>
        /* <example>SKU1241028</example> */
        [JsonPropertyName("sku")]
        public string Sku { get; set; }

        /// <summary>
        /// Number of units of this item. Due to [cart item flattening](https://docs.talon.one/docs/product/rules/understanding-cart-item-flattening), if you provide a quantity greater than 1, the item will be split in as many items as the provided quantity. This will impact the number of **per-item** effects triggered from your campaigns. 
        /// </summary>
        /// <value>Number of units of this item. Due to [cart item flattening](https://docs.talon.one/docs/product/rules/understanding-cart-item-flattening), if you provide a quantity greater than 1, the item will be split in as many items as the provided quantity. This will impact the number of **per-item** effects triggered from your campaigns. </value>
        /* <example>1</example> */
        [JsonPropertyName("quantity")]
        public long Quantity { get; set; }

        /// <summary>
        /// Used to track the state of Name
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string> NameOption { get; private set; }

        /// <summary>
        /// Name of item.
        /// </summary>
        /// <value>Name of item.</value>
        /* <example>Air Glide</example> */
        [JsonPropertyName("name")]
        public string Name { get { return this.NameOption; } set { this.NameOption = new Option<string>(value); } }

        /// <summary>
        /// Used to track the state of ReturnedQuantity
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<long?> ReturnedQuantityOption { get; private set; }

        /// <summary>
        /// Number of returned items, calculated internally based on returns of this item.
        /// </summary>
        /// <value>Number of returned items, calculated internally based on returns of this item.</value>
        /* <example>1</example> */
        [JsonPropertyName("returnedQuantity")]
        public long? ReturnedQuantity { get { return this.ReturnedQuantityOption; } set { this.ReturnedQuantityOption = new Option<long?>(value); } }

        /// <summary>
        /// Used to track the state of RemainingQuantity
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<long?> RemainingQuantityOption { get; private set; }

        /// <summary>
        /// Remaining quantity of the item, calculated internally based on returns of this item.
        /// </summary>
        /// <value>Remaining quantity of the item, calculated internally based on returns of this item.</value>
        /* <example>1</example> */
        [JsonPropertyName("remainingQuantity")]
        public long? RemainingQuantity { get { return this.RemainingQuantityOption; } set { this.RemainingQuantityOption = new Option<long?>(value); } }

        /// <summary>
        /// Used to track the state of Price
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<decimal?> PriceOption { get; private set; }

        /// <summary>
        /// Price of the item in the currency defined by your Application. This field is required if this item is not part of a [catalog](https://docs.talon.one/docs/product/account/dev-tools/managing-cart-item-catalogs). If it is part of a catalog, setting a price here overrides the price from the catalog. 
        /// </summary>
        /// <value>Price of the item in the currency defined by your Application. This field is required if this item is not part of a [catalog](https://docs.talon.one/docs/product/account/dev-tools/managing-cart-item-catalogs). If it is part of a catalog, setting a price here overrides the price from the catalog. </value>
        /* <example>99.99</example> */
        [JsonPropertyName("price")]
        public decimal? Price { get { return this.PriceOption; } set { this.PriceOption = new Option<decimal?>(value); } }

        /// <summary>
        /// Used to track the state of Category
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string> CategoryOption { get; private set; }

        /// <summary>
        /// Type, group or model of the item.
        /// </summary>
        /// <value>Type, group or model of the item.</value>
        /* <example>shoes</example> */
        [JsonPropertyName("category")]
        public string Category { get { return this.CategoryOption; } set { this.CategoryOption = new Option<string>(value); } }

        /// <summary>
        /// Used to track the state of Product
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Product> ProductOption { get; private set; }

        /// <summary>
        /// Gets or Sets Product
        /// </summary>
        [JsonPropertyName("product")]
        public Product Product { get { return this.ProductOption; } set { this.ProductOption = new Option<Product>(value); } }

        /// <summary>
        /// Used to track the state of Weight
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<decimal?> WeightOption { get; private set; }

        /// <summary>
        /// Weight of item in grams.
        /// </summary>
        /// <value>Weight of item in grams.</value>
        /* <example>1130</example> */
        [JsonPropertyName("weight")]
        public decimal? Weight { get { return this.WeightOption; } set { this.WeightOption = new Option<decimal?>(value); } }

        /// <summary>
        /// Used to track the state of Height
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<decimal?> HeightOption { get; private set; }

        /// <summary>
        /// Height of item in mm.
        /// </summary>
        /// <value>Height of item in mm.</value>
        [JsonPropertyName("height")]
        public decimal? Height { get { return this.HeightOption; } set { this.HeightOption = new Option<decimal?>(value); } }

        /// <summary>
        /// Used to track the state of Width
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<decimal?> WidthOption { get; private set; }

        /// <summary>
        /// Width of item in mm.
        /// </summary>
        /// <value>Width of item in mm.</value>
        [JsonPropertyName("width")]
        public decimal? Width { get { return this.WidthOption; } set { this.WidthOption = new Option<decimal?>(value); } }

        /// <summary>
        /// Used to track the state of Length
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<decimal?> LengthOption { get; private set; }

        /// <summary>
        /// Length of item in mm.
        /// </summary>
        /// <value>Length of item in mm.</value>
        [JsonPropertyName("length")]
        public decimal? Length { get { return this.LengthOption; } set { this.LengthOption = new Option<decimal?>(value); } }

        /// <summary>
        /// Used to track the state of Position
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<decimal?> PositionOption { get; private set; }

        /// <summary>
        /// Position of the Cart Item in the Cart (calculated internally).
        /// </summary>
        /// <value>Position of the Cart Item in the Cart (calculated internally).</value>
        [JsonPropertyName("position")]
        public decimal? Position { get { return this.PositionOption; } set { this.PositionOption = new Option<decimal?>(value); } }

        /// <summary>
        /// Used to track the state of Attributes
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Object> AttributesOption { get; private set; }

        /// <summary>
        /// Use this property to set a value for the attributes of your choice. [Attributes](https://docs.talon.one/docs/dev/concepts/attributes) represent any information to attach to this cart item.  Custom _cart item_ attributes must be created in the Campaign Manager before you set them with this property.  **Note:** Any previously defined attributes that you do not include in the array will be removed. 
        /// </summary>
        /// <value>Use this property to set a value for the attributes of your choice. [Attributes](https://docs.talon.one/docs/dev/concepts/attributes) represent any information to attach to this cart item.  Custom _cart item_ attributes must be created in the Campaign Manager before you set them with this property.  **Note:** Any previously defined attributes that you do not include in the array will be removed. </value>
        /* <example>{image&#x3D;11.jpeg, material&#x3D;leather}</example> */
        [JsonPropertyName("attributes")]
        public Object Attributes { get { return this.AttributesOption; } set { this.AttributesOption = new Option<Object>(value); } }

        /// <summary>
        /// Used to track the state of AdditionalCosts
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Dictionary<string, AdditionalCost>> AdditionalCostsOption { get; private set; }

        /// <summary>
        /// Use this property to set a value for the additional costs of this item, such as a shipping cost. They must be created in the Campaign Manager before you set them with this property. See [Managing additional costs](https://docs.talon.one/docs/product/account/dev-tools/managing-additional-costs). 
        /// </summary>
        /// <value>Use this property to set a value for the additional costs of this item, such as a shipping cost. They must be created in the Campaign Manager before you set them with this property. See [Managing additional costs](https://docs.talon.one/docs/product/account/dev-tools/managing-additional-costs). </value>
        /* <example>{shipping&#x3D;{price&#x3D;9}}</example> */
        [JsonPropertyName("additionalCosts")]
        public Dictionary<string, AdditionalCost> AdditionalCosts { get { return this.AdditionalCostsOption; } set { this.AdditionalCostsOption = new Option<Dictionary<string, AdditionalCost>>(value); } }

        /// <summary>
        /// Used to track the state of CatalogItemID
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<long?> CatalogItemIDOption { get; private set; }

        /// <summary>
        /// The catalog item ID.
        /// </summary>
        /// <value>The catalog item ID.</value>
        [JsonPropertyName("catalogItemID")]
        public long? CatalogItemID { get { return this.CatalogItemIDOption; } set { this.CatalogItemIDOption = new Option<long?>(value); } }

        /// <summary>
        /// Used to track the state of SelectedPriceType
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string> SelectedPriceTypeOption { get; private set; }

        /// <summary>
        /// The selected price type for this cart item (e.g. the price for members only).
        /// </summary>
        /// <value>The selected price type for this cart item (e.g. the price for members only).</value>
        /* <example>member</example> */
        [JsonPropertyName("selectedPriceType")]
        public string SelectedPriceType { get { return this.SelectedPriceTypeOption; } set { this.SelectedPriceTypeOption = new Option<string>(value); } }

        /// <summary>
        /// Used to track the state of AdjustmentReferenceId
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Guid?> AdjustmentReferenceIdOption { get; private set; }

        /// <summary>
        /// The reference ID of the selected price adjustment for this cart item. Only returned if the selected price resulted from a price adjustment.
        /// </summary>
        /// <value>The reference ID of the selected price adjustment for this cart item. Only returned if the selected price resulted from a price adjustment.</value>
        /* <example>68851723-e6fa-488f-ace9-112581e6c19b</example> */
        [JsonPropertyName("adjustmentReferenceId")]
        public Guid? AdjustmentReferenceId { get { return this.AdjustmentReferenceIdOption; } set { this.AdjustmentReferenceIdOption = new Option<Guid?>(value); } }

        /// <summary>
        /// Used to track the state of AdjustmentEffectiveFrom
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> AdjustmentEffectiveFromOption { get; private set; }

        /// <summary>
        /// The date and time from which the price adjustment is effective. Only returned if the selected price resulted from a price adjustment that contains this field.
        /// </summary>
        /// <value>The date and time from which the price adjustment is effective. Only returned if the selected price resulted from a price adjustment that contains this field.</value>
        /* <example>2021-09-12T10:12:42Z</example> */
        [JsonPropertyName("adjustmentEffectiveFrom")]
        public DateTime? AdjustmentEffectiveFrom { get { return this.AdjustmentEffectiveFromOption; } set { this.AdjustmentEffectiveFromOption = new Option<DateTime?>(value); } }

        /// <summary>
        /// Used to track the state of AdjustmentEffectiveUntil
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> AdjustmentEffectiveUntilOption { get; private set; }

        /// <summary>
        /// The date and time until which the price adjustment is effective. Only returned if the selected price resulted from a price adjustment that contains this field.
        /// </summary>
        /// <value>The date and time until which the price adjustment is effective. Only returned if the selected price resulted from a price adjustment that contains this field.</value>
        /* <example>2021-09-12T10:12:42Z</example> */
        [JsonPropertyName("adjustmentEffectiveUntil")]
        public DateTime? AdjustmentEffectiveUntil { get { return this.AdjustmentEffectiveUntilOption; } set { this.AdjustmentEffectiveUntilOption = new Option<DateTime?>(value); } }

        /// <summary>
        /// Used to track the state of Prices
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Dictionary<string, PriceDetail>> PricesOption { get; private set; }

        /// <summary>
        /// A map of keys and values representing the price types and related price adjustment details for this cart item. The keys correspond to the &#x60;priceType&#x60; names. 
        /// </summary>
        /// <value>A map of keys and values representing the price types and related price adjustment details for this cart item. The keys correspond to the &#x60;priceType&#x60; names. </value>
        /* <example>{member&#x3D;{price&#x3D;90, adjustmentReferenceId&#x3D;68851723-e6fa-488f-ace9-112581e6c19b, effectiveFrom&#x3D;2025-05-25T00:00:00Z, effectiveUntil&#x3D;2025-05-30T00:00:00Z}, base&#x3D;{price&#x3D;100}}</example> */
        [JsonPropertyName("prices")]
        public Dictionary<string, PriceDetail> Prices { get { return this.PricesOption; } set { this.PricesOption = new Option<Dictionary<string, PriceDetail>>(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class CartItem {\n");
            sb.Append("  Sku: ").Append(Sku).Append("\n");
            sb.Append("  Quantity: ").Append(Quantity).Append("\n");
            sb.Append("  Name: ").Append(Name).Append("\n");
            sb.Append("  ReturnedQuantity: ").Append(ReturnedQuantity).Append("\n");
            sb.Append("  RemainingQuantity: ").Append(RemainingQuantity).Append("\n");
            sb.Append("  Price: ").Append(Price).Append("\n");
            sb.Append("  Category: ").Append(Category).Append("\n");
            sb.Append("  Product: ").Append(Product).Append("\n");
            sb.Append("  Weight: ").Append(Weight).Append("\n");
            sb.Append("  Height: ").Append(Height).Append("\n");
            sb.Append("  Width: ").Append(Width).Append("\n");
            sb.Append("  Length: ").Append(Length).Append("\n");
            sb.Append("  Position: ").Append(Position).Append("\n");
            sb.Append("  Attributes: ").Append(Attributes).Append("\n");
            sb.Append("  AdditionalCosts: ").Append(AdditionalCosts).Append("\n");
            sb.Append("  CatalogItemID: ").Append(CatalogItemID).Append("\n");
            sb.Append("  SelectedPriceType: ").Append(SelectedPriceType).Append("\n");
            sb.Append("  AdjustmentReferenceId: ").Append(AdjustmentReferenceId).Append("\n");
            sb.Append("  AdjustmentEffectiveFrom: ").Append(AdjustmentEffectiveFrom).Append("\n");
            sb.Append("  AdjustmentEffectiveUntil: ").Append(AdjustmentEffectiveUntil).Append("\n");
            sb.Append("  Prices: ").Append(Prices).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            // Sku (string) minLength
            if (this.Sku != null && this.Sku.Length < 1)
            {
                yield return new ValidationResult("Invalid value for Sku, length must be greater than 1.", new [] { "Sku" });
            }

            // Quantity (long) minimum
            if (this.Quantity < (long)1)
            {
                yield return new ValidationResult("Invalid value for Quantity, must be a value greater than or equal to 1.", new [] { "Quantity" });
            }

            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="CartItem" />
    /// </summary>
    public class CartItemJsonConverter : JsonConverter<CartItem>
    {
        /// <summary>
        /// The format to use to serialize AdjustmentEffectiveFrom
        /// </summary>
        public static string AdjustmentEffectiveFromFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// The format to use to serialize AdjustmentEffectiveUntil
        /// </summary>
        public static string AdjustmentEffectiveUntilFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="CartItem" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override CartItem Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string> sku = default;
            Option<long?> quantity = default;
            Option<string> name = default;
            Option<long?> returnedQuantity = default;
            Option<long?> remainingQuantity = default;
            Option<decimal?> price = default;
            Option<string> category = default;
            Option<Product> product = default;
            Option<decimal?> weight = default;
            Option<decimal?> height = default;
            Option<decimal?> width = default;
            Option<decimal?> length = default;
            Option<decimal?> position = default;
            Option<Object> attributes = default;
            Option<Dictionary<string, AdditionalCost>> additionalCosts = default;
            Option<long?> catalogItemID = default;
            Option<string> selectedPriceType = default;
            Option<Guid?> adjustmentReferenceId = default;
            Option<DateTime?> adjustmentEffectiveFrom = default;
            Option<DateTime?> adjustmentEffectiveUntil = default;
            Option<Dictionary<string, PriceDetail>> prices = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "sku":
                            sku = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "quantity":
                            quantity = new Option<long?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (long?)null : utf8JsonReader.GetInt64());
                            break;
                        case "name":
                            name = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "returnedQuantity":
                            returnedQuantity = new Option<long?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (long?)null : utf8JsonReader.GetInt64());
                            break;
                        case "remainingQuantity":
                            remainingQuantity = new Option<long?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (long?)null : utf8JsonReader.GetInt64());
                            break;
                        case "price":
                            price = new Option<decimal?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (decimal?)null : utf8JsonReader.GetDecimal());
                            break;
                        case "category":
                            category = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "product":
                            product = new Option<Product>(JsonSerializer.Deserialize<Product>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "weight":
                            weight = new Option<decimal?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (decimal?)null : utf8JsonReader.GetDecimal());
                            break;
                        case "height":
                            height = new Option<decimal?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (decimal?)null : utf8JsonReader.GetDecimal());
                            break;
                        case "width":
                            width = new Option<decimal?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (decimal?)null : utf8JsonReader.GetDecimal());
                            break;
                        case "length":
                            length = new Option<decimal?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (decimal?)null : utf8JsonReader.GetDecimal());
                            break;
                        case "position":
                            position = new Option<decimal?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (decimal?)null : utf8JsonReader.GetDecimal());
                            break;
                        case "attributes":
                            attributes = new Option<Object>(JsonSerializer.Deserialize<Object>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "additionalCosts":
                            additionalCosts = new Option<Dictionary<string, AdditionalCost>>(JsonSerializer.Deserialize<Dictionary<string, AdditionalCost>>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "catalogItemID":
                            catalogItemID = new Option<long?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (long?)null : utf8JsonReader.GetInt64());
                            break;
                        case "selectedPriceType":
                            selectedPriceType = new Option<string>(utf8JsonReader.GetString());
                            break;
                        case "adjustmentReferenceId":
                            adjustmentReferenceId = new Option<Guid?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (Guid?)null : utf8JsonReader.GetGuid());
                            break;
                        case "adjustmentEffectiveFrom":
                            adjustmentEffectiveFrom = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "adjustmentEffectiveUntil":
                            adjustmentEffectiveUntil = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "prices":
                            prices = new Option<Dictionary<string, PriceDetail>>(JsonSerializer.Deserialize<Dictionary<string, PriceDetail>>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        default:
                            break;
                    }
                }
            }

            if (!sku.IsSet)
                throw new ArgumentException("Property is required for class CartItem.", nameof(sku));

            if (!quantity.IsSet)
                throw new ArgumentException("Property is required for class CartItem.", nameof(quantity));

            if (sku.IsSet && sku.Value == null)
                throw new ArgumentNullException(nameof(sku), "Property is not nullable for class CartItem.");

            if (quantity.IsSet && quantity.Value == null)
                throw new ArgumentNullException(nameof(quantity), "Property is not nullable for class CartItem.");

            if (name.IsSet && name.Value == null)
                throw new ArgumentNullException(nameof(name), "Property is not nullable for class CartItem.");

            if (returnedQuantity.IsSet && returnedQuantity.Value == null)
                throw new ArgumentNullException(nameof(returnedQuantity), "Property is not nullable for class CartItem.");

            if (remainingQuantity.IsSet && remainingQuantity.Value == null)
                throw new ArgumentNullException(nameof(remainingQuantity), "Property is not nullable for class CartItem.");

            if (price.IsSet && price.Value == null)
                throw new ArgumentNullException(nameof(price), "Property is not nullable for class CartItem.");

            if (category.IsSet && category.Value == null)
                throw new ArgumentNullException(nameof(category), "Property is not nullable for class CartItem.");

            if (product.IsSet && product.Value == null)
                throw new ArgumentNullException(nameof(product), "Property is not nullable for class CartItem.");

            if (weight.IsSet && weight.Value == null)
                throw new ArgumentNullException(nameof(weight), "Property is not nullable for class CartItem.");

            if (height.IsSet && height.Value == null)
                throw new ArgumentNullException(nameof(height), "Property is not nullable for class CartItem.");

            if (width.IsSet && width.Value == null)
                throw new ArgumentNullException(nameof(width), "Property is not nullable for class CartItem.");

            if (length.IsSet && length.Value == null)
                throw new ArgumentNullException(nameof(length), "Property is not nullable for class CartItem.");

            if (position.IsSet && position.Value == null)
                throw new ArgumentNullException(nameof(position), "Property is not nullable for class CartItem.");

            if (attributes.IsSet && attributes.Value == null)
                throw new ArgumentNullException(nameof(attributes), "Property is not nullable for class CartItem.");

            if (additionalCosts.IsSet && additionalCosts.Value == null)
                throw new ArgumentNullException(nameof(additionalCosts), "Property is not nullable for class CartItem.");

            if (catalogItemID.IsSet && catalogItemID.Value == null)
                throw new ArgumentNullException(nameof(catalogItemID), "Property is not nullable for class CartItem.");

            if (selectedPriceType.IsSet && selectedPriceType.Value == null)
                throw new ArgumentNullException(nameof(selectedPriceType), "Property is not nullable for class CartItem.");

            if (adjustmentReferenceId.IsSet && adjustmentReferenceId.Value == null)
                throw new ArgumentNullException(nameof(adjustmentReferenceId), "Property is not nullable for class CartItem.");

            if (adjustmentEffectiveFrom.IsSet && adjustmentEffectiveFrom.Value == null)
                throw new ArgumentNullException(nameof(adjustmentEffectiveFrom), "Property is not nullable for class CartItem.");

            if (adjustmentEffectiveUntil.IsSet && adjustmentEffectiveUntil.Value == null)
                throw new ArgumentNullException(nameof(adjustmentEffectiveUntil), "Property is not nullable for class CartItem.");

            if (prices.IsSet && prices.Value == null)
                throw new ArgumentNullException(nameof(prices), "Property is not nullable for class CartItem.");

            return new CartItem(sku.Value, quantity.Value.Value, name, returnedQuantity, remainingQuantity, price, category, product, weight, height, width, length, position, attributes, additionalCosts, catalogItemID, selectedPriceType, adjustmentReferenceId, adjustmentEffectiveFrom, adjustmentEffectiveUntil, prices);
        }

        /// <summary>
        /// Serializes a <see cref="CartItem" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="cartItem"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, CartItem cartItem, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, cartItem, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="CartItem" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="cartItem"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, CartItem cartItem, JsonSerializerOptions jsonSerializerOptions)
        {
            if (cartItem.Sku == null)
                throw new ArgumentNullException(nameof(cartItem.Sku), "Property is required for class CartItem.");

            if (cartItem.NameOption.IsSet && cartItem.Name == null)
                throw new ArgumentNullException(nameof(cartItem.Name), "Property is required for class CartItem.");

            if (cartItem.CategoryOption.IsSet && cartItem.Category == null)
                throw new ArgumentNullException(nameof(cartItem.Category), "Property is required for class CartItem.");

            if (cartItem.ProductOption.IsSet && cartItem.Product == null)
                throw new ArgumentNullException(nameof(cartItem.Product), "Property is required for class CartItem.");

            if (cartItem.AttributesOption.IsSet && cartItem.Attributes == null)
                throw new ArgumentNullException(nameof(cartItem.Attributes), "Property is required for class CartItem.");

            if (cartItem.AdditionalCostsOption.IsSet && cartItem.AdditionalCosts == null)
                throw new ArgumentNullException(nameof(cartItem.AdditionalCosts), "Property is required for class CartItem.");

            if (cartItem.SelectedPriceTypeOption.IsSet && cartItem.SelectedPriceType == null)
                throw new ArgumentNullException(nameof(cartItem.SelectedPriceType), "Property is required for class CartItem.");

            if (cartItem.PricesOption.IsSet && cartItem.Prices == null)
                throw new ArgumentNullException(nameof(cartItem.Prices), "Property is required for class CartItem.");

            writer.WriteString("sku", cartItem.Sku);

            writer.WriteNumber("quantity", cartItem.Quantity);

            if (cartItem.NameOption.IsSet)
                writer.WriteString("name", cartItem.Name);

            if (cartItem.ReturnedQuantityOption.IsSet)
                writer.WriteNumber("returnedQuantity", cartItem.ReturnedQuantityOption.Value.Value);

            if (cartItem.RemainingQuantityOption.IsSet)
                writer.WriteNumber("remainingQuantity", cartItem.RemainingQuantityOption.Value.Value);

            if (cartItem.PriceOption.IsSet)
                writer.WriteNumber("price", cartItem.PriceOption.Value.Value);

            if (cartItem.CategoryOption.IsSet)
                writer.WriteString("category", cartItem.Category);

            if (cartItem.ProductOption.IsSet)
            {
                writer.WritePropertyName("product");
                JsonSerializer.Serialize(writer, cartItem.Product, jsonSerializerOptions);
            }
            if (cartItem.WeightOption.IsSet)
                writer.WriteNumber("weight", cartItem.WeightOption.Value.Value);

            if (cartItem.HeightOption.IsSet)
                writer.WriteNumber("height", cartItem.HeightOption.Value.Value);

            if (cartItem.WidthOption.IsSet)
                writer.WriteNumber("width", cartItem.WidthOption.Value.Value);

            if (cartItem.LengthOption.IsSet)
                writer.WriteNumber("length", cartItem.LengthOption.Value.Value);

            if (cartItem.PositionOption.IsSet)
                writer.WriteNumber("position", cartItem.PositionOption.Value.Value);

            if (cartItem.AttributesOption.IsSet)
            {
                writer.WritePropertyName("attributes");
                JsonSerializer.Serialize(writer, cartItem.Attributes, jsonSerializerOptions);
            }
            if (cartItem.AdditionalCostsOption.IsSet)
            {
                writer.WritePropertyName("additionalCosts");
                JsonSerializer.Serialize(writer, cartItem.AdditionalCosts, jsonSerializerOptions);
            }
            if (cartItem.CatalogItemIDOption.IsSet)
                writer.WriteNumber("catalogItemID", cartItem.CatalogItemIDOption.Value.Value);

            if (cartItem.SelectedPriceTypeOption.IsSet)
                writer.WriteString("selectedPriceType", cartItem.SelectedPriceType);

            if (cartItem.AdjustmentReferenceIdOption.IsSet)
                writer.WriteString("adjustmentReferenceId", cartItem.AdjustmentReferenceIdOption.Value.Value);

            if (cartItem.AdjustmentEffectiveFromOption.IsSet)
                writer.WriteString("adjustmentEffectiveFrom", cartItem.AdjustmentEffectiveFromOption.Value.Value.ToString(AdjustmentEffectiveFromFormat));

            if (cartItem.AdjustmentEffectiveUntilOption.IsSet)
                writer.WriteString("adjustmentEffectiveUntil", cartItem.AdjustmentEffectiveUntilOption.Value.Value.ToString(AdjustmentEffectiveUntilFormat));

            if (cartItem.PricesOption.IsSet)
            {
                writer.WritePropertyName("prices");
                JsonSerializer.Serialize(writer, cartItem.Prices, jsonSerializerOptions);
            }
        }
    }
}
